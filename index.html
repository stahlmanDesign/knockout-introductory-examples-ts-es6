<!DOCTYPE html>
<html lang="fr">

<head>
    <title>TypeScript Greeter</title>

    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="vm3.css" />
    <link rel="stylesheet" type="text/css" href="vm5.css" />
    <link rel="stylesheet" type="text/css" href="vm6.css" />
    <link rel="stylesheet" type="text/css" href="vm7.css" />
    <link rel="stylesheet" type="text/css" href="vm8.css" />
    <style type="text/css">

    </style>
    <!--reload page when local js or css changes-->
    <script type="text/javascript" src="http://livejs.com/live.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
    <script type="text/javascript" src="externals/knockout.simpleGrid.3.0.js"></script>
    <script type="text/javascript" src="externals/jquery.min.js"></script>

</head>

<body>

    <p> This demonstrates two view models in one view. They need to be bound to different elements<br/>
        <a target="_blank" href='http://stackoverflow.com/questions/9293761/knockoutjs-multiple-viewmodels-in-a-single-view'>more info here</a><br/>
        <a target="_blank" href='http://knockoutjs.com/documentation/observables.html'>and here</a>
    </p>
    <hr/>
    <!--wrap view model in div-->
    <div id='vm1'>
        <h2>ViewModel1</h2>
        <p>Hello from
            <strong data-bind="text: language">todo</strong> and
            <strong data-bind="text: framework">todo</strong>!
        </p>
        <p>Language: <input data-bind="value: language" /></p>
        <p>Framework: <input data-bind="value: framework" /></p>
    </div>


    <hr/>

    <!--wrap view model in div-->
    <div id='vm2'>
        <h2>ViewModel2</h2>

        <input data-bind="value: firstName" />
        <input data-bind="value: lastName" />
        <p>Full name:
            <span data-bind="text: fullName"></span>
        </p>
    </div>

    <hr/>


    <div id="vm3" class='vm3'>
        <h2>ViewModel3&4</h2>
        <form data-bind="submit: addItem">
            New item:
            <input placeholder="Type something" data-bind='value: itemToAdd, valueUpdate: "afterkeydown"' />
            <button type="submit" data-bind="enable: itemToAdd().length > 0">Add</button>

            <p/>
            <label>Your items:</label>
            <select multiple="multiple" width="50" data-bind="options: items, selectedOptions: chosenItems "> </select>
            <p/>
            <button type="submit" data-bind="click: removeItem, enable: chosenItems().length > 0 ">Remove</button>
            <button type="submit" data-bind="click: sortItems, enable: items().length > 1 ">Sort</button>
        </form>

    </div>

    <hr/>

    <div id="vm5" class="vm5">
        <h1>ViewModel5</h1>
        <div class="readout">
            <h3>What's in the model?</h3>
            <table>
                <tr>
                    <td class="label">Text value:</td>
                    <td data-bind="text: stringValue"></td>
                </tr>
                <tr>
                    <td class="label">Password:</td>
                    <td data-bind="text: passwordValue"></td>
                </tr>
                <tr>
                    <td class="label">Bool value:</td>
                    <td data-bind='text: booleanValue() ? "True" : "False"'></td>
                </tr>
                <tr>
                    <td class="label">Selected option:</td>
                    <td data-bind="text: selectedOptionValue"></td>
                </tr>
                <tr>
                    <td class="label">Multi-selected options:</td>
                    <td data-bind="text: multipleSelectedOptionValues"></td>
                </tr>
                <tr>
                    <td class="label">Radio button selection:</td>
                    <td data-bind="text: radioSelectedOptionValue"></td>
                </tr>
            </table>
        </div>

        <h3>HTML controls</h3>
        <table>
            <tr>
                <td class="label">Text value (updates on change):</td>
                <td><input data-bind="value: stringValue" /></td>
            </tr>
            <tr>
                <td class="label">Text value (updates on keystroke):</td>
                <td><input data-bind='value: stringValue, valueUpdate: "afterkeydown"' /></td>
            </tr>
            <tr>
                <td class="label">Text value (multi-line):</td>
                <td><textarea data-bind="value: stringValue"> </textarea></td>
            </tr>
            <tr>
                <td class="label">Password:</td>
                <td><input type="password" data-bind="value: passwordValue" /></td>
            </tr>
            <tr>
                <td class="label">Checkbox:</td>
                <td><input type="checkbox" data-bind="checked: booleanValue" /></td>
            </tr>
            <tr>
                <td class="label">Drop-down list:</td>
                <td><select data-bind="options: optionValues, value: selectedOptionValue"></select></td>
            </tr>
            <tr>
                <td class="label">Multi-select drop-down list:</td>
                <td><select multiple="multiple" data-bind="options: optionValues, selectedOptions: multipleSelectedOptionValues"></select></td>
            </tr>
            <tr>
                <td class="label">Radio buttons:</td>
                <td>
                    <label><input type="radio" value="Alpha" data-bind="checked: radioSelectedOptionValue" />Alpha</label>
                    <label><input type="radio" value="Beta" data-bind="checked: radioSelectedOptionValue" />Beta</label>
                    <label><input type="radio" value="Gamma" data-bind="checked: radioSelectedOptionValue" />Gamma</label>
                </td>
            </tr>
        </table>
    </div>
    <hr/>
    <div id="vm6" class="vm6">
        <h1>ViewModel6</h1>
        <h2>People</h2>
        <ul data-bind="foreach: people">
            <li>
                <div>
                    <span data-bind="text: name"> </span> has <span data-bind='text: children().length'>&nbsp;</span> children:
                    <a href='#' data-bind='click: addChild '>Add child</a>
                    <span class='renderTime' data-bind='visible: $root.showRenderTimes'>
                    (person rendered at <span data-bind='text: new Date().getSeconds()' > </span>)
                    </span>
                </div>
                <ul data-bind="foreach: children">
                    <li>
                        <span data-bind="text: $data"> </span>
                        <span class='renderTime' data-bind='visible: $root.showRenderTimes'>
                        (child rendered at <span data-bind='text: $root.getTime()' > </span>)
                        </span>
                    </li>
                </ul>
            </li>
        </ul>
        <label><input data-bind='checked: showRenderTimes' type='checkbox' /> Show render times</label>
    </div>
    <hr/>

    <div id='vm7' class='vm7'>
        <h2>ViewModel7</h2>
        <div data-bind='simpleGrid: gridViewModel'> </div>
        <button data-bind='click: addItem'>Add item</button>
        <button data-bind='click: sortByName'>Sort by name</button>
        <button data-bind='click: jumpToFirstPage, enable: gridViewModel.currentPageIndex'>Jump to first page</button>
    </div>

    <hr/>

    <div id='vm8' class='vm8'>
        <h2>ViewModel8</h2>
        <h2>Planets</h2>
        <p>
            <label>
            <input type='checkbox' data-bind='checked: displayAdvancedOptions' />
            Display advanced options
        </label>
        </p>

        <p data-bind='fadeVisible: displayAdvancedOptions'>
            Show:
            <label><input type='radio' name="type" value='all' data-bind='checked: typeToShow' />All</label>
            <label><input type='radio' name="type" value='rock' data-bind='checked: typeToShow' />Rocky planets</label>
            <label><input type='radio' name="type" value='gasgiant' data-bind='checked: typeToShow' />Gas giants</label>
        </p>

        <div data-bind='template: { foreach: planetsToShow,
                                beforeRemove: hidePlanetElement,
                                afterAdd: showPlanetElement }'>
            <div data-bind='attr: { "class": "planet " + type }, text: name'> </div>
        </div>

        <p data-bind='fadeVisible: displayAdvancedOptions'>
            <button data-bind='click: addPlanet.bind($data, "rock")'>Add rocky planet</button>
            <button data-bind='click: addPlanet.bind($data, "gasgiant")'>Add gas giant</button>
        </p>

    </div>




    <script src="./externals/require.js"></script>
    <script src="./built/require-config.js"></script>

    <script>
        require(["externals/d3.min"]);
        require(["externals/jquery.min"]);
        require(["externals/lodash.min"]);
        require(["built/main"]);
    </script>

</body>

</html>